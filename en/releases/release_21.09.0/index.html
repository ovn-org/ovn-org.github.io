<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.111.1">
    <meta name="description" content="Documentation website for the OVN project">
<meta name="author" content="The OVN community">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Release 21.09.0 :: OVN project documentation website</title>

    
    <link href="/css/nucleus.css?1677875035" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1677875035" rel="stylesheet">
    <link href="/css/hybrid.css?1677875035" rel="stylesheet">
    <link href="/css/featherlight.min.css?1677875035" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1677875035" rel="stylesheet">
    <link href="/css/auto-complete.css?1677875035" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1677875035" rel="stylesheet">
    <link href="/css/theme.css?1677875035" rel="stylesheet">
    <link href="/css/hugo-theme.css?1677875035" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1677875035" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1677875035"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/en/releases/release_21.09.0/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <img src="/images/ovn-logo.png" alt="OVN, Open Virtual Network"/>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1677875035"></script>
<script type="text/javascript" src="/js/auto-complete.js?1677875035"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/en";
    
</script>
<script type="text/javascript" src="/js/search.js?1677875035"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/en/architecture/" title="Architecture" class="dd-item 
        
        
        
        ">
      <a href="/en/architecture/">
          <b>1. </b>Architecture
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/releases/" title="Releases" class="dd-item 
        parent
        
        
        ">
      <a href="/en/releases/">
          <b>2. </b>Releases
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/en/releases/long_term_support/" title="Long Term Support Releases" class="dd-item ">
        <a href="/en/releases/long_term_support/">
        Long Term Support Releases
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_22.12.0/" title="Release 22.12.0" class="dd-item ">
        <a href="/en/releases/release_22.12.0/">
        Release 22.12.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_22.09.0/" title="Release 22.09.0" class="dd-item ">
        <a href="/en/releases/release_22.09.0/">
        Release 22.09.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_22.06.0/" title="Release 22.06.0" class="dd-item ">
        <a href="/en/releases/release_22.06.0/">
        Release 22.06.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_22.03.0/" title="Release 22.03.0" class="dd-item ">
        <a href="/en/releases/release_22.03.0/">
        Release 22.03.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_21.09.0/" title="Release 21.09.0" class="dd-item active">
        <a href="/en/releases/release_21.09.0/">
        Release 21.09.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_21.06.0/" title="Release 21.06.0" class="dd-item ">
        <a href="/en/releases/release_21.06.0/">
        Release 21.06.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_21.03.0/" title="Release 21.03.0" class="dd-item ">
        <a href="/en/releases/release_21.03.0/">
        Release 21.03.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_20.12.0/" title="Release 20.12.0" class="dd-item ">
        <a href="/en/releases/release_20.12.0/">
        Release 20.12.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/releases/release_20.09.0/" title="Release 20.09.0" class="dd-item ">
        <a href="/en/releases/release_20.09.0/">
        Release 20.09.0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/contributing/" title="Contributing" class="dd-item 
        
        
        
        ">
      <a href="/en/contributing/">
          <b>3. </b>Contributing
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/en/contributing/website/" title="Contributing to the OVN website" class="dd-item 
        
        
        
        ">
      <a href="/en/contributing/website/">
          Contributing to the OVN website
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/contributing/code-of-conduct/" title="Code of Conduct" class="dd-item 
        
        
        
        ">
      <a href="/en/contributing/code-of-conduct/">
          Code of Conduct
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://docs.ovn.org"><i class='fas fa-fw fa-book'></i> Documentation</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/ovn-org/"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/en/releases/release_21.09.0/" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/ovn-org/ovn" data-icon="octicon-star" data-show-count="true" aria-label="Star ovn-org/ovn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/ovn-org/ovn/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork ovn-org/ovn on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/ovn-org/website/edit/master/src/content/releases/release_21.09.0.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/en/'>OVN, Open Virtual Network</a> > <a href='/en/releases/'>Releases</a> > Release 21.09.0
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#new-features">New Features</a></li>
        <li><a href="#performance-enhancements">Performance Enhancements</a></li>
        <li><a href="#documentation">Documentation</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Release 21.09.0
            </h1>
          

        



<p>In addition to bug fixes, the 21.09.0 release of OVN contains a mix of new features and performance improvements.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li>OVN can now detect datapath features in OVS using the &ldquo;Datapath&rdquo; table in OVS. This is used to detect if all-zero SNAT is available.</li>
<li>DHCP now supports option 12 (hostname).</li>
<li>A limitation has been removed that now allows the full TCP/UDP port range (1-65535) rather than only half the range (1-32767) for Service Monitors.</li>
<li>Proxy ARP support has been added for Logical Switch ports of type &ldquo;router&rdquo;.</li>
<li>An &ldquo;&ndash;add-route&rdquo; option is available for the &ldquo;ovn-nbctl lr-nat-add&rdquo; and &ldquo;ovn-nbctl lr-lb-add&rdquo; commands. This automatically creates static routes to the VIP or external IP from connected routers and adds ARP/ND resolution flows for these IP addresses.</li>
<li>Many new stopwatches have been added to ovn-northd and ovn-controller for more fine-tuned debugging of execution times.</li>
<li>A new &ldquo;ovn-sbctl count-flows&rdquo; command has been added in order to retrieve the number of logical flows more quickly.</li>
<li>Control Plane Protection (CoPP) has been added.</li>
<li>PMTU discovery has been added for incoming traffic from outside the OVN cluster.</li>
<li>Memory usage statistics can be gathered from ovn-northd.</li>
<li>Distributed routers may now have more than one gateway port.</li>
<li>ACLs can now be given labels so that it can be detected which ACL was responsible for allowing traffic.</li>
<li>In addition to external_ids:iface-id, a new optional external_ids:iface-id-ver option has been added for OVS Interfaces to allow for more control over when ports are bound.</li>
<li>Static routes with no nexthop may be configured.</li>
<li>OVN now stores the timestamp when a port is bound. It is stored in external_ids:ovn-installed-ts in the OVS Interface table.</li>
</ul>
<h3 id="performance-enhancements">Performance Enhancements</h3>
<p>Generally speaking, performance was a major focus for the development of OVN 21.09.0.</p>
<ul>
<li>Logical flows for DNAT have been reorganized to avoid unnecessary recirculations.</li>
<li>IPv6 prefix delegation and router advertisements are now processed incrementally in ovn-controller.</li>
<li>Memory is trimmed when the logical flow cache in ovn-controller reduces significantly in size.</li>
<li>Load balancer processing has been significantly improved:
<ul>
<li>Southbound Datapath_Binding records have been decoupled from Load_Balancers. This change reduced ovn-northd execution time of a heavy load balancer test case by about 80%.</li>
<li>Load balancer defrag flows are now processed once for all routers. This change reduced ovn-northd execution time of a heavy load balancer test case by about 10%.</li>
<li>SNAT hairpin flows now use conjunctive matches. Previously, the number of flows was proportional to the number of Load Balancer VIPs x the number of datapaths. Now it is proportional to the number of Load Balancer VIPs + the number of datapaths. In a test with heavy load balancer use, this reduced the execution time of ovn-controller by 26%, reduced the number of OpenFlow flows by 72%, and reduced the memory used by 72%.</li>
<li>Some logical flow calculations were optimized, resulting in a 25% reduction in computation time in ovn-northd.</li>
</ul>
</li>
<li>Non-local logical flows can be skipped by ovn-controller befor parsing. This change reduced ovn-controller execution time by 70% with the lflow cache disabled. It reduced ovn-controller execution time by 65% and reduced memory usaged by 80% when the lflow cache is enabled.</li>
<li>OVSDB client API improvements have been added:
<ul>
<li>Reconnecting to a database resets the backoff counter, meaning that reconnection typically happens much quicker, rather than a minimum of 8 seconds.</li>
<li>Optimizations have been made for JSON string serialization.</li>
<li>The client side of the ovsdb-data module has been optimized.</li>
</ul>
</li>
<li>ARP flood flows for known unreachable IPs have been broken into multiple logical flows instead of being combined into one. This reduced OpenFlow installation time by about 98% for cases with many unreachable IP addresses.</li>
<li>Physical flows and Connection Tracking zones have enhanced incremental processing logic, allowing for fewer full recomputes in ovn-controller when physical changes occur.</li>
<li>A change to reduce the number of flows for cases where logical switches are pinned to a single chassis was added. This reduced the number of OpenFlow flows per node by 70%, reduced ovn-controller memory by 80%, reduced ovn-controller recompute time by 90%, and reduced ovn-controller restart time by 90%.</li>
<li>Pipelines in ovn-northd are represented as digits instead of strings, resulting in a savings of 1-3.5% in processing time.</li>
<li>Logical datapath groups are now enabled by default. These were introduced in OVN 21.03.0 but were not enabled by default. Enabling them allows for repeated logical flows to be stored only once in the southbound database.</li>
<li>Parallelized ovn-northd was optimized to work better with datapath groups, resulting in a speedup of about 10%.</li>
<li>ovn-northd ddlog received a numerous improvements to its processing, resulting in memory consumption being reduced by as much as 85% and reducing execution time by a significant amount too.</li>
</ul>
<h3 id="documentation">Documentation</h3>
<p>Distribution documentation (aka man pages) specific to this release is
<a href="https://www.ovn.org/support/dist-docs-branch-21.09/">available here</a>.</p>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/en/releases/release_22.03.0/" title="Release 22.03.0"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/en/releases/release_21.06.0/" title="Release 21.06.0" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1677875035"></script>
    <script src="/js/perfect-scrollbar.min.js?1677875035"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1677875035"></script>
    <script src="/js/jquery.sticky.js?1677875035"></script>
    <script src="/js/featherlight.min.js?1677875035"></script>
    <script src="/js/highlight.pack.js?1677875035"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1677875035"></script>
    <script src="/js/learn.js?1677875035"></script>
    <script src="/js/hugo-learn.js?1677875035"></script>

    <link href="/mermaid/mermaid.css?1677875035" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1677875035"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

